import{t as A,v as h,i as D,k as R,w as I,x as k,j as e,S as o,C as q,T as a,n as G,G as n,o as m,B as P,p as W,q as j}from"./index-7D1jf1M_.js";import{D as B}from"./Divider-tXRc_fJE.js";import{T as b}from"./TextField-CAdIxZRC.js";import"./dividerClasses-D82xR3Cs.js";import"./Select-Dg6xSVFU.js";import"./Menu-C4jIC6eM.js";import"./List-Cx4iqPhx.js";import"./FormControl-B0STjl36.js";const E=A({amount:h().trim().min(1,"Please type your transfer amount"),referralCode:h().trim().min(1,"Please type your referral code")});function O(){var x,p;const d=D(),l={referralCode:"",amount:""},{register:u,handleSubmit:g,watch:y,reset:S,formState:{errors:s}}=R({resolver:W(E),defaultValues:l}),c=y("referralCode"),{data:t,isError:v,error:i}=I({referralCode:c},{skip:!c}),w=v?(x=i==null?void 0:i.data)==null?void 0:x.message:(p=t==null?void 0:t.data)==null?void 0:p.name,[C,{isLoading:z}]=k(),F=async T=>{var f;try{const r=await C(T).unwrap();r!=null&&r.status&&(S(l),d(j({open:!0,message:r==null?void 0:r.message,severity:"success"})))}catch(r){r!=null&&r.data&&d(j({open:!0,message:((f=r==null?void 0:r.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(o,{mt:"100px",children:e.jsxs(q,{children:[e.jsx(a,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Add fund"}),e.jsxs(G,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(a,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(B,{sx:{my:"1.2rem"}}),e.jsxs(o,{gap:"2rem",component:"form",onSubmit:g(F),children:[e.jsxs(n,{container:!0,size:12,spacing:2,children:[e.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[e.jsx(m,{sx:{mb:".5rem"},children:"Referral ID *"}),e.jsx(b,{...u("referralCode",{require:!0}),size:"small",fullWidth:!0,placeholder:"Referral ID *",variant:"outlined"}),s.referralCode&&e.jsx(a,{color:"error",fontSize:"13px",children:s.referralCode.message}),e.jsx(m,{sx:{mb:".5rem"},children:w})]}),e.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{flexDirection:"row",justifyContent:"space-between"},children:e.jsx(m,{sx:{mb:".5rem"},children:"Amount *"})}),e.jsx(b,{...u("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),s.amount&&e.jsx(a,{color:"error",fontSize:"13px",children:s.amount.message})]})]}),e.jsx(P,{variant:"contained",size:"small",type:"submit",disabled:z,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{E as addFundSchema,O as default};
