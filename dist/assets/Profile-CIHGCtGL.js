import{r as x,g as D,d as ee,aL as ge,u as te,j as t,s as ae,c as se,M as Y,a as oe,a7 as xe,m as re,b as V,au as fe,h as ne,S as z,C as Z,n as ie,T as I,t as Q,v as A,i as H,k as J,p as K,aM as he,aN as be,aO as we,G as R,o as F,O as E,I as L,B as k,q as $,aP as ve,e as le,af as de,ag as ce,aQ as ye}from"./index-7D1jf1M_.js";import{A as Pe}from"./Avatar-tDdlVsvZ.js";import{S as _}from"./Skeleton-YtPd1MEA.js";import{T as je}from"./TextField-CAdIxZRC.js";import"./Select-Dg6xSVFU.js";import"./Menu-C4jIC6eM.js";import"./List-Cx4iqPhx.js";import"./FormControl-B0STjl36.js";function Be(e){return x.Children.toArray(e).filter(a=>x.isValidElement(a))}function Ce(e){return ee("MuiToggleButton",e)}const W=D("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ue=x.createContext({}),pe=x.createContext(void 0);function Te(e,a){return a===void 0||e===void 0?!1:Array.isArray(a)?a.includes(e):e===a}const Se=e=>{const{classes:a,fullWidth:n,selected:r,disabled:i,size:d,color:p}=e,m={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${Y(d)}`,p]};return oe(m,Ce,a)},$e=ae(xe,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.root,a[`size${Y(n.size)}`]]}})(re(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${W.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:V(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${W.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:V(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:V(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:V(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(fe()).map(([a])=>({props:{color:a},style:{[`&.${W.selected}`]:{color:(e.vars||e).palette[a].main,backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:V(e.palette[a].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:V(e.palette[a].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:V(e.palette[a].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),ze=x.forwardRef(function(a,n){const{value:r,...i}=x.useContext(ue),d=x.useContext(pe),p=ge({...i,selected:Te(a.value,r)},a),m=te({props:p,name:"MuiToggleButton"}),{children:C,className:v,color:b="standard",disabled:y=!1,disableFocusRipple:T=!1,fullWidth:s=!1,onChange:c,onClick:P,selected:o,size:O="medium",value:S,...U}=m,M={...m,color:b,disabled:y,disableFocusRipple:T,fullWidth:s,size:O},N=Se(M),G=g=>{P&&(P(g,S),g.defaultPrevented)||c&&c(g,S)},j=d||"";return t.jsx($e,{className:se(i.className,N.root,v,j),disabled:y,focusRipple:!T,ref:n,onClick:G,onChange:c,value:S,ownerState:M,"aria-pressed":o,...U,children:C})});function Oe(e){return ee("MuiToggleButtonGroup",e)}const l=D("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Re=e=>{const{classes:a,orientation:n,fullWidth:r,disabled:i}=e,d={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${Y(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return oe(d,Oe,a)},Me=ae("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[{[`& .${l.grouped}`]:a.grouped},{[`& .${l.grouped}`]:a[`grouped${Y(n.orientation)}`]},{[`& .${l.firstButton}`]:a.firstButton},{[`& .${l.lastButton}`]:a.lastButton},{[`& .${l.middleButton}`]:a.middleButton},a.root,n.orientation==="vertical"&&a.vertical,n.fullWidth&&a.fullWidth]}})(re(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${l.grouped}`]:{[`&.${l.selected} + .${l.grouped}.${l.selected}`]:{borderTop:0,marginTop:0}},[`& .${l.firstButton},& .${l.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${l.lastButton},& .${l.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${l.lastButton}.${W.disabled},& .${l.middleButton}.${W.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${l.grouped}`]:{[`&.${l.selected} + .${l.grouped}.${l.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${l.firstButton},& .${l.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${l.lastButton},& .${l.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${l.lastButton}.${W.disabled},& .${l.middleButton}.${W.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Ve=x.forwardRef(function(a,n){const r=te({props:a,name:"MuiToggleButtonGroup"}),{children:i,className:d,color:p="standard",disabled:m=!1,exclusive:C=!1,fullWidth:v=!1,onChange:b,orientation:y="horizontal",size:T="medium",value:s,...c}=r,P={...r,disabled:m,fullWidth:v,orientation:y,size:T},o=Re(P),O=x.useCallback((j,g)=>{if(!b)return;const u=s&&s.indexOf(g);let B;s&&u>=0?(B=s.slice(),B.splice(u,1)):B=s?s.concat(g):[g],b(j,B)},[b,s]),S=x.useCallback((j,g)=>{b&&b(j,s===g?null:g)},[b,s]),U=x.useMemo(()=>({className:o.grouped,onChange:C?S:O,value:s,size:T,fullWidth:v,color:p,disabled:m}),[o.grouped,C,S,O,s,T,v,p,m]),M=Be(i),N=M.length,G=j=>{const g=j===0,u=j===N-1;return g&&u?"":g?o.firstButton:u?o.lastButton:o.middleButton};return t.jsx(Me,{role:"group",className:se(o.root,d),ref:n,ownerState:P,...c,children:t.jsx(ue.Provider,{value:U,children:M.map((j,g)=>t.jsx(pe.Provider,{value:G(g),children:j},g))})})});function ke(){const{data:e,isLoading:a}=ne(),n=e==null?void 0:e.data,r={avatar:"/avatar.png",name:n==null?void 0:n.name,email:n==null?void 0:n.email};return t.jsx(z,{children:t.jsx(Z,{children:t.jsxs(ie,{sx:{borderRadius:"1rem",p:"1rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[t.jsx(z,{height:"250px",children:t.jsx("img",{src:"/profileBanner/profileBannerImg.jpg",alt:"Profile Banner",height:"100%",width:"100%",style:{borderRadius:"1rem"}})}),t.jsx(z,{sx:{mx:{xs:"1rem",sm:"2rem"},mt:"-3rem"},children:Object.entries(r).map(([i,d])=>t.jsx(z,{sx:{flexDirection:"row",alignItems:"center",gap:".5rem",wordBreak:"break-word"},children:i==="avatar"?t.jsx(Pe,{alt:"User Avatar",src:d,sx:{width:100,height:100,bgcolor:"primary.main",mb:".5rem"}}):t.jsxs(t.Fragment,{children:[t.jsxs(I,{fontWeight:"bold",textTransform:"capitalize",children:[i,":"]}),t.jsx(I,{sx:{flex:1},children:a?t.jsx(_,{width:200,height:30}):d||"N/A"})]})},i))})]})})})}function We({toggleButtonSx:e,items:a,toggleButtonGroupSx:n,stackSx:r,onChange:i,active:d}){return t.jsx(z,{sx:r,children:t.jsx(Ve,{color:"primary",exclusive:!0,onChange:i,"aria-label":"Platform",sx:{color:"#989c9e",...n},children:a==null?void 0:a.map((p,m)=>t.jsx(ze,{value:p,sx:{borderBottom:d===p&&"2px solid primary.main",color:d===p&&"primary.main",textTransform:"capitalize",fontSize:"1rem",...e},children:p},m))})})}const Ae=Q({name:A().trim().min(1,"User name or email is required")});function me(){const e=H(),{data:a,isLoading:n}=ne(),r=a==null?void 0:a.data,i={name:""},[d,p]=x.useState(null),[m,C]=x.useState(""),[v,b]=x.useState(null),{register:y,handleSubmit:T,reset:s,watch:c,setValue:P,setError:o,formState:{errors:O}}=J({resolver:K(Ae),defaultValues:i});x.useEffect(()=>{s({name:r==null?void 0:r.name})},[r]);const[S,{isLoading:U}]=he(),M=async u=>{var B;try{const f=await S(u).unwrap();f.status&&e($({open:!0,message:f==null?void 0:f.message,severity:"success"}))}catch(f){f!=null&&f.data&&e($({open:!0,message:((B=f==null?void 0:f.data)==null?void 0:B.message)||"Failed to submit. Please try again later.",severity:"error"}))}},[N]=be(),[G]=we();async function j(u){var B,f;try{p(u);const w=c(u),h=await N({[u]:w}).unwrap();h!=null&&h.status&&(e($({open:!0,message:h==null?void 0:h.message,severity:"success"})),b(u))}catch(w){(B=w.data)!=null&&B.data?Object.entries(w.data.data).forEach(([h,q])=>{o(h,{type:"server",message:q})}):e($({open:!0,message:((f=w==null?void 0:w.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}finally{p(null)}}async function g(u){var B,f;try{b(()=>u);const w=c(u==="email"?"email":"mobile"),h=await G({[u]:w,otp:m}).unwrap();h!=null&&h.status&&(e($({open:!0,message:h==null?void 0:h.message,severity:"success"})),C(""),b(null),P(u,w),s(i))}catch(w){(B=w.data)!=null&&B.data?Object.entries(w.data.data).forEach(([h,q])=>{o(h,{type:"server",message:q})}):e($({open:!0,message:((f=w==null?void 0:w.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}}return t.jsxs(z,{mt:"2rem",gap:"2rem",component:"form",onSubmit:T(M),children:[t.jsxs(R,{container:!0,size:12,spacing:3,children:[t.jsxs(R,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(F,{sx:{mb:".5rem"},children:"Name"}),t.jsx(je,{size:"small",placeholder:"Your name",fullWidth:!0,variant:"outlined",...y("name",{required:!0})})]}),t.jsxs(R,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(F,{sx:{mb:".5rem"},children:v==="email"?"Email otp":"Email"}),v==="email"?t.jsx(E,{size:"small",placeholder:"Your OTP",name:"otp",value:m,onChange:u=>C(u.target.value),fullWidth:!0,endAdornment:t.jsx(L,{position:"end",children:t.jsx(k,{onClick:()=>g("email"),disabled:!m,size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:"Verify"})})}):t.jsx(E,{disabled:!0,size:"small",placeholder:"Your email",value:n?t.jsx(_,{}):r==null?void 0:r.email,fullWidth:!0,endAdornment:r!=null&&r.isEmailVerified?null:t.jsx(L,{position:"end",children:t.jsx(k,{onClick:()=>j("email"),disabled:d==="email",size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:d==="email"?"Sending...":"Verify"})})})]}),t.jsxs(R,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(F,{sx:{mb:".5rem"},children:v==="mobile"?"Mobile otp":"Mobile"}),v==="mobile"?t.jsx(E,{size:"small",placeholder:"Your OTP",name:"otp",value:m,onChange:u=>C(u.target.value),fullWidth:!0,endAdornment:t.jsx(L,{position:"end",children:t.jsx(k,{onClick:()=>g("mobile"),disabled:!m,size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:"Verify"})})}):t.jsx(E,{disabled:!0,size:"small",value:n?t.jsx(_,{}):r==null?void 0:r.mobile,placeholder:"Your mobile",...y("mobile",{required:!0}),fullWidth:!0,endAdornment:r!=null&&r.isMobileVerified?null:t.jsx(L,{position:"end",children:t.jsx(k,{onClick:()=>j("mobile"),disabled:d==="mobile",size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:d==="mobile"?"Sending...":"Verify"})})})]})]}),t.jsx(k,{type:"submit",size:"small",disabled:U,variant:"contained",sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})}const Ee=Q({oldPassword:A().min(8,"Password must be at least 8 characters"),newPassword:A().min(8,"Password must be at least 8 characters"),cnfPassword:A().min(8,"Password must be at least 8 characters")}).refine(e=>e.newPassword===e.cnfPassword,{message:"Passwords do not match",path:["cnfPassword"]});function Le(){const e=H(),[a,n]=x.useState({oldPassword:!1,newPassword:!1,cnfPassword:!1}),r=s=>{n(c=>({...c,[s]:!c[s]}))},[i,{isLoading:d}]=ve(),p={oldPassword:"",newPassword:"",cnfPassword:""},{register:m,handleSubmit:C,setError:v,reset:b,formState:{errors:y}}=J({resolver:K(Ee),defaultValues:p}),T=async s=>{var c,P;try{const o=await i(s).unwrap();o!=null&&o.status&&(b(p),e($({open:!0,message:o==null?void 0:o.message,severity:"success"})))}catch(o){(c=o==null?void 0:o.data)!=null&&c.data?Object.entries(o.data.data).forEach(([O,S])=>{v(O,{type:"server",message:S})}):e($({open:!0,message:((P=o==null?void 0:o.data)==null?void 0:P.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return t.jsxs(z,{mt:"2rem",gap:"2rem",component:"form",onSubmit:C(T),children:[t.jsx(R,{container:!0,size:12,spacing:3,children:["oldPassword","newPassword","cnfPassword"].map(s=>t.jsxs(R,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(F,{sx:{mb:".5rem"},children:s==="oldPassword"?"Current Password":s==="newPassword"?"New Password":"Confirm Password"}),t.jsx(E,{size:"small",...m(s),placeholder:"********",fullWidth:!0,type:a[s]?"text":"password",endAdornment:t.jsx(L,{position:"end",children:t.jsx(le,{"aria-label":`toggle ${s} visibility`,onClick:()=>r(s),edge:"end",children:a[s]?t.jsx(de,{}):t.jsx(ce,{})})})}),y[s]&&t.jsx(I,{color:"error",children:y[s].message})]},s))}),t.jsx(k,{type:"submit",size:"small",variant:"contained",disabled:d,sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})}const Ue=Q({prevPassword:A().min(8,"Password must be at least 8 characters").regex(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/,"Password must contain at least one digit, one lowercase letter, one uppercase letter, and one special character"),newPassword:A().min(8,"Password must be at least 8 characters").regex(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/,"Password must contain at least one digit, one lowercase letter, one uppercase letter, and one special character"),cnfPassword:A().min(8,"Password must be at least 8 characters").regex(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/,"Password must contain at least one digit, one lowercase letter, one uppercase letter, and one special character")}).refine(e=>e.newPassword===e.cnfPassword,{message:"Passwords do not match",path:["cnfPassword"]});function Ne(){const e=H(),[a,n]=x.useState({currPassword:!1,newPassword:!1,cnfPassword:!1}),r=s=>{n(c=>({...c,[s]:!c[s]}))},[i,{isLoading:d}]=ye(),p={prevPassword:"",newPassword:"",cnfPassword:""},{register:m,handleSubmit:C,setError:v,reset:b,formState:{errors:y}}=J({resolver:K(Ue),defaultValues:p}),T=async s=>{var c,P;try{const o=await i(s).unwrap();o!=null&&o.status&&(b(p),e($({open:!0,message:o==null?void 0:o.message,severity:"success"})))}catch(o){(c=o==null?void 0:o.data)!=null&&c.data?Object.entries(o.data.data).forEach(([O,S])=>{v(O,{type:"server",message:S})}):e($({open:!0,message:((P=o==null?void 0:o.data)==null?void 0:P.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return t.jsxs(z,{mt:"2rem",gap:"2rem",component:"form",onSubmit:C(T),children:[t.jsx(R,{container:!0,size:12,spacing:3,children:["prevPassword","newPassword","cnfPassword"].map(s=>t.jsxs(R,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(F,{sx:{mb:".5rem"},children:s==="prevPassword"?"Current Transaction Password":s==="newPassword"?"New Transaction Password":"Confirm Transaction Password"}),t.jsx(E,{size:"small",...m(s),placeholder:"********",fullWidth:!0,type:a[s]?"text":"password",endAdornment:t.jsx(L,{position:"end",children:t.jsx(le,{"aria-label":`toggle ${s} visibility`,onClick:()=>r(s),edge:"end",children:a[s]?t.jsx(de,{}):t.jsx(ce,{})})})}),y[s]&&t.jsx(I,{color:"error",children:y[s].message})]},s))}),t.jsx(k,{type:"submit",size:"small",variant:"contained",disabled:d,sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})}const X={Profile:me,"Change Profile Password":Le,"Change Transaction Password":Ne};function Ge(){const[e,a]=x.useState("Profile");function n(i){i&&a(i)}const r=X[e]||me;return t.jsx(z,{mt:"2rem",children:t.jsx(Z,{children:t.jsxs(ie,{sx:{borderRadius:"1rem",p:{xs:"1rem",sm:"2rem"},boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[t.jsx(We,{toggleButtonSx:{borderTop:"none",borderLeft:"none",borderRight:"none",borderRadius:"0"},toggleButtonGroupSx:{flexDirection:{xs:"column",sm:"row"}},stackSx:{borderBottom:"1px solid #989c9e"},items:Object.keys(X),onChange:(i,d)=>n(d),active:e}),t.jsx(r,{})]})})})}function Je(){return t.jsxs(z,{mb:"4rem",mt:"100px",children:[t.jsx(Z,{children:t.jsx(I,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Profile"})}),t.jsx(ke,{}),t.jsx(Ge,{})]})}export{Je as default};
