import{t as P,v as d,h as C,i as I,k as G,Y as W,j as e,S as c,C as D,T as r,n as L,G as i,o as l,B as R,p as q,q as w}from"./index-7D1jf1M_.js";import{S as j}from"./Selector-Dn31GDqX.js";import{D as K}from"./Divider-tXRc_fJE.js";import{T as b}from"./TextField-CAdIxZRC.js";import"./FormControl-B0STjl36.js";import"./Select-Dg6xSVFU.js";import"./Menu-C4jIC6eM.js";import"./List-Cx4iqPhx.js";import"./MenuItem-_iTbp_Fi.js";import"./listItemTextClasses-1oh9neVZ.js";import"./dividerClasses-D82xR3Cs.js";const M=P({amount:d().trim().min(1,"Please type your transfer amount"),password:d().trim().min(1,"Please type your transaction password"),wallet:d().trim().min(1,"Please select your wallet type")}),N=[{label:"Profit sharing",value:"MAIN"},{label:"Affiliate",value:"AFFLIATE"},{label:"Referral",value:"PACKAGE"}];function $(){const{data:n,refetch:g}=C(),t=n==null?void 0:n.data,u=I(),x={amount:"",password:"",wallet:""},{register:p,handleSubmit:S,watch:o,setValue:y,setError:A,reset:v,formState:{errors:a}}=G({resolver:q(M),defaultValues:x}),[T,{isLoading:z}]=W(),F=async m=>{var h,f;try{const s=await T(m).unwrap();s!=null&&s.status&&(v(x),g(),u(w({open:!0,message:s==null?void 0:s.message,severity:"success"})))}catch(s){(h=s==null?void 0:s.data)!=null&&h.data?Object.entries(s.data.data).forEach(([B,E])=>{A(B,{type:"server",message:E})}):u(w({open:!0,message:((f=s==null?void 0:s.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(c,{mt:"100px",children:e.jsxs(D,{children:[e.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Swap wallet transfer"}),e.jsxs(L,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(K,{sx:{my:"1.2rem"}}),e.jsxs(c,{gap:"2rem",component:"form",onSubmit:S(F),children:[e.jsxs(i,{container:!0,size:12,spacing:2,children:[e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Transfer from wallet *"}),e.jsx(j,{items:N,shouldBeFullWidth:!0,value:o("wallet"),onChange:m=>y("wallet",m.target.value,{shouldValidate:!0})}),a.wallet&&e.jsx(r,{color:"error",fontSize:"13px",children:a.wallet.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsxs(c,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Amount transfer *"}),e.jsxs(l,{sx:{mb:".5rem"},children:["Balance: ",o("wallet")==="MAIN"?t==null?void 0:t.BUSDBalance:o("wallet")==="AFFLIATE"?t==null?void 0:t.AFFLIATEBalance:o("wallet")==="PACKAGE"?t==null?void 0:t.PACKAGEBalance:0]})]}),e.jsx(b,{...p("amount",{required:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),a.amount&&e.jsx(r,{color:"error",fontSize:"13px",children:a.amount.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Transfet to wallet *"}),e.jsx(j,{items:["TRADE"],shouldBeFullWidth:!0,shouldBeDisabled:!0,value:["TRADE"]})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Transaction password *"}),e.jsx(b,{...p("password",{required:!0}),size:"small",fullWidth:!0,placeholder:"Transaction password",variant:"outlined"}),a.password&&e.jsx(r,{fontSize:"13px",color:"error",children:a.password.message})]})]}),e.jsx(R,{variant:"contained",size:"small",type:"submit",disabled:z,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{$ as default};
