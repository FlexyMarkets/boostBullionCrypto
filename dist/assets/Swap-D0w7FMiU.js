import{v as P,w as c,r as V,k as W,l as D,n as G,R as L,j as e,S as u,T as i,C as R,G as o,p as l,O as k,I as M,i as O,V as U,U as q,a as N,q as K,t as j}from"./index-BE25fc3N.js";import{S as b}from"./Selector-C00cggg7.js";import{C as Q}from"./Container-C46po7iI.js";import{D as H}from"./Divider-DrNQvmtr.js";import{T as J}from"./TextField-Be0EJ2W4.js";import"./FormControl-CUhYLOdT.js";import"./Select-CvYi1qbM.js";import"./Menu-rVl4IyfX.js";import"./List-D6vlDv5V.js";import"./MenuItem-8fSxzSuS.js";import"./listItemTextClasses-Cc1aVs6h.js";import"./dividerClasses-D4DVNqmZ.js";const X=P({amount:c().trim().min(1,"Please type your transfer amount"),password:c().trim().min(1,"Please type your transaction password"),wallet:c().trim().min(1,"Please select your wallet type")}),Y=[{label:"Main",value:"MAIN"},{label:"Affiliate",value:"AFFLIATE"}];function me(){const[m,S]=V.useState(!1),y=()=>S(r=>!r),{data:d,refetch:g}=W(),t=d==null?void 0:d.data,p=D(),x={amount:"",password:"",wallet:""},{register:h,handleSubmit:A,watch:n,setValue:T,setError:v,reset:z,formState:{errors:a}}=G({resolver:K(X),defaultValues:x}),[F,{isLoading:B}]=L(),E=async r=>{var w,f;try{const s=await F(r).unwrap();s!=null&&s.status&&(z(x),g(),p(j({open:!0,message:s==null?void 0:s.message,severity:"success"})))}catch(s){(w=s==null?void 0:s.data)!=null&&w.data?Object.entries(s.data.data).forEach(([I,C])=>{v(I,{type:"server",message:C})}):p(j({open:!0,message:((f=s==null?void 0:s.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(u,{mt:"100px",children:e.jsxs(Q,{children:[e.jsx(i,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Swap wallet transfer"}),e.jsxs(R,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(i,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(H,{sx:{my:"1.2rem"}}),e.jsxs(u,{gap:"2rem",component:"form",onSubmit:A(E),children:[e.jsxs(o,{container:!0,size:12,spacing:2,children:[e.jsxs(o,{item:!0,size:{xs:12,sm:6},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Transfer from wallet *"}),e.jsx(b,{items:Y,shouldBeFullWidth:!0,value:n("wallet"),onChange:r=>T("wallet",r.target.value,{shouldValidate:!0})}),a.wallet&&e.jsx(i,{color:"error",fontSize:"13px",children:a.wallet.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6},children:[e.jsxs(u,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Amount transfer *"}),e.jsxs(l,{sx:{mb:".5rem"},children:["Balance: ",n("wallet")==="MAIN"?t==null?void 0:t.BUSDBalance:n("wallet")==="AFFLIATE"?t==null?void 0:t.AFFLIATEBalance:n("wallet")==="PACKAGE"?t==null?void 0:t.PACKAGEBalance:0]})]}),e.jsx(J,{...h("amount",{required:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),a.amount&&e.jsx(i,{color:"error",fontSize:"13px",children:a.amount.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Transfet to wallet *"}),e.jsx(b,{items:["TRADE"],shouldBeFullWidth:!0,shouldBeDisabled:!0,value:["TRADE"]})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6},children:[e.jsx(l,{sx:{mb:".5rem"},children:"Transaction password *"}),e.jsx(k,{...h("password",{require:!0}),size:"small",fullWidth:!0,placeholder:"Transaction password",variant:"outlined",type:m?"text":"password",endAdornment:e.jsx(M,{position:"end",children:e.jsx(O,{"aria-label":m?"hide the password":"display the password",onClick:y,edge:"end",children:m?e.jsx(U,{sx:{color:"#f1b811",fontSize:"20px"}}):e.jsx(q,{sx:{color:"#f1b811",fontSize:"20px"}})})})}),a.password&&e.jsx(i,{fontSize:"13px",color:"error",children:a.password.message})]})]}),e.jsx(N,{variant:"contained",size:"small",type:"submit",disabled:B,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{me as default};
