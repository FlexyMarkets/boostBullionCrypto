import{v as I,w as c,r as W,k as P,l as B,n as L,_ as k,j as e,S as u,T as i,C,G as o,p as n,O as E,I as V,i as q,Y as D,Z as G,a as M,q as N,t as j}from"./index-BPKDHole.js";import{S as O}from"./Selector-DjhxAGHy.js";import{D as R}from"./Divider-B03dux0C.js";import{T as U}from"./TextField-B77SMJ87.js";import"./FormControl-R2PLJ0Ur.js";import"./Select-5_MAovsi.js";import"./Menu-C5l8RJF2.js";import"./List-DH4347GI.js";import"./MenuItem-4qhA7_ZE.js";import"./listItemTextClasses-9LBcFKLv.js";import"./dividerClasses-BwGHlKnn.js";const Q=I({amount:c().trim().min(1,"Please type your transfer amount"),password:c().trim().min(1,"Please type your transaction password"),wallet:c().trim().min(1,"Please select your wallet type")});function ae(){const[l,b]=W.useState(!1),g=()=>b(r=>!r),{data:m,isLoading:x,refetch:y}=P(),t=m==null?void 0:m.data,h=B(),p={wallet:"",amount:"",password:""},{register:w,handleSubmit:S,reset:A,watch:d,setValue:v,formState:{errors:a}}=L({resolver:N(Q),defaultValues:p}),[z,{isLoading:T}]=k(),F=async r=>{var f;try{const s=await z(r).unwrap();s!=null&&s.status&&(A(p),y(),h(j({open:!0,message:s==null?void 0:s.message,severity:"success"})))}catch(s){s!=null&&s.data&&h(j({open:!0,message:((f=s==null?void 0:s.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(u,{mt:"100px",children:[e.jsx(i,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Withdraw amount"}),e.jsxs(C,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(i,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(R,{sx:{my:"1.2rem"}}),e.jsxs(u,{gap:"2rem",component:"form",onSubmit:S(F),children:[e.jsxs(o,{container:!0,size:12,spacing:2,children:[e.jsxs(o,{item:!0,size:{xs:12,sm:6},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Withdraw from wallet *"}),e.jsx(O,{items:["MAIN","AFFLIATE"],shouldBeFullWidth:!0,value:d("wallet"),onChange:r=>v("wallet",r.target.value,{shouldValidate:!0})}),a.wallet&&e.jsx(i,{color:"error",fontSize:"13px",children:a.wallet.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6},children:[e.jsxs(u,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Amount to withdraw *"}),e.jsxs(n,{sx:{mb:".5rem"},children:["Balance: ",d("wallet")==="MAIN"?x?e.jsx(Skeleton,{}):t==null?void 0:t.BUSDBalance:d("wallet")==="AFFLIATE"?x?e.jsx(Skeleton,{}):t==null?void 0:t.AFFLIATEBalance:0]})]}),e.jsx(U,{...w("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),a.amount&&e.jsx(i,{color:"error",children:a.amount.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Transaction password *"}),e.jsx(E,{...w("password",{require:!0}),size:"small",fullWidth:!0,placeholder:"Transaction password",variant:"outlined",type:l?"text":"password",endAdornment:e.jsx(V,{position:"end",children:e.jsx(q,{"aria-label":l?"hide the password":"display the password",onClick:g,edge:"end",children:l?e.jsx(D,{sx:{color:"#f1b811",fontSize:"20px"}}):e.jsx(G,{sx:{color:"#f1b811",fontSize:"20px"}})})})}),a.password&&e.jsx(i,{color:"error",children:a.password.message})]})]}),e.jsx(M,{variant:"contained",size:"small",type:"submit",disabled:T,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})}export{ae as default};
