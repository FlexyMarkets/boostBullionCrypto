import{v,w as o,l as T,n as w,a0 as z,j as e,S as D,T as r,C as k,G as i,p as m,a as C,q as F,t as p}from"./index-BPKDHole.js";import{S as P}from"./Selector-DjhxAGHy.js";import{D as W}from"./Divider-B03dux0C.js";import{T as x}from"./TextField-B77SMJ87.js";import"./FormControl-R2PLJ0Ur.js";import"./Select-5_MAovsi.js";import"./Menu-C5l8RJF2.js";import"./List-DH4347GI.js";import"./MenuItem-4qhA7_ZE.js";import"./listItemTextClasses-9LBcFKLv.js";import"./dividerClasses-BwGHlKnn.js";const M=v({subject:o().min(1,"Please type your subject").min(3,"Subject must be at least 3 characters long"),priority:o().min(2,"Please select your priority level"),message:o().trim().min(1,"Please type your message").min(3,"Message must be at least 3 characters long")});function U(){const n=T(),l={subject:"",priority:"",message:""},{register:c,handleSubmit:h,reset:b,watch:g,setValue:j,formState:{errors:s}}=w({resolver:F(M),defaultValues:l}),[y,{isLoading:f}]=z(),S=async a=>{var u,d;try{const t=await y(a).unwrap();t!=null&&t.status&&(n(p({open:!0,message:t==null?void 0:t.message,severity:"success"})),b(l))}catch(t){(u=t==null?void 0:t.data)!=null&&u.status||n(p({open:!0,message:((d=t==null?void 0:t.data)==null?void 0:d.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(D,{sx:{mt:"100px"},children:[e.jsx(r,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Create New Ticket"}),e.jsxs(k,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:{xs:"1rem",md:"2rem"}},component:"form",onSubmit:h(S),children:[e.jsx(r,{mx:{xs:"1rem",md:"0"},variant:"body2",children:"Fill Details"}),e.jsx(W,{sx:{my:"1.2rem"}}),e.jsxs(i,{container:!0,size:12,spacing:2,children:[e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(m,{sx:{mb:".5rem"},children:"Title *"}),e.jsx(x,{...c("subject",{required:!0}),size:"small",fullWidth:!0,placeholder:"Enter Title",variant:"outlined"}),s.subject&&e.jsx(r,{color:"error",fontSize:"14px",children:s.subject.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(m,{sx:{mb:".5rem"},children:"Priority *"}),e.jsx(P,{items:["LOW","MEDIUM","HIGH"],value:g("priority"),onChange:a=>j("priority",a.target.value,{shouldValidate:!0}),shouldBeFullWidth:!0}),s.priority&&e.jsx(r,{color:"error",fontSize:"14px",children:s.priority.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(m,{sx:{mb:".5rem"},children:"Describe your problem *"}),e.jsx(x,{...c("message",{required:!0}),size:"small",multiline:!0,fullWidth:!0,placeholder:"Describe your problem",variant:"outlined"}),s.message&&e.jsx(r,{color:"error",fontSize:"14px",children:s.message.message})]})]}),e.jsx(C,{variant:"contained",type:"submit",disabled:f,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",color:"white",mt:"1.5rem","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{U as default};
