import{t as F,v as d,h as z,i as W,k as B,Z as L,j as e,S as c,C as I,T as r,n as C,G as i,o,B as P,p as k,q as j}from"./index-7D1jf1M_.js";import{S as E}from"./Selector-Dn31GDqX.js";import{D as q}from"./Divider-tXRc_fJE.js";import{T as f}from"./TextField-CAdIxZRC.js";import"./FormControl-B0STjl36.js";import"./Select-Dg6xSVFU.js";import"./Menu-C4jIC6eM.js";import"./List-Cx4iqPhx.js";import"./MenuItem-_iTbp_Fi.js";import"./listItemTextClasses-1oh9neVZ.js";import"./dividerClasses-D82xR3Cs.js";const D=F({amount:d().trim().min(1,"Please type your transfer amount"),password:d().trim().min(1,"Please type your transaction password"),wallet:d().trim().min(1,"Please select your wallet type")});function O(){const{data:n,isLoading:u,refetch:b}=z(),s=n==null?void 0:n.data,x=W(),h={wallet:"",amount:"",password:""},{register:p,handleSubmit:g,reset:y,watch:l,setValue:S,formState:{errors:a}}=B({resolver:k(D),defaultValues:h}),[v,{isLoading:A}]=L(),T=async m=>{var w;try{const t=await v(m).unwrap();t!=null&&t.status&&(y(h),b(),x(j({open:!0,message:t==null?void 0:t.message,severity:"success"})))}catch(t){t!=null&&t.data&&x(j({open:!0,message:((w=t==null?void 0:t.data)==null?void 0:w.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(c,{mt:"100px",children:e.jsxs(I,{children:[e.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Withdraw amount"}),e.jsxs(C,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(q,{sx:{my:"1.2rem"}}),e.jsxs(c,{gap:"2rem",component:"form",onSubmit:g(T),children:[e.jsxs(i,{container:!0,size:12,spacing:2,children:[e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Withdraw from wallet *"}),e.jsx(E,{items:["MAIN","AFFLIATE"],shouldBeFullWidth:!0,value:l("wallet"),onChange:m=>S("wallet",m.target.value,{shouldValidate:!0})}),a.wallet&&e.jsx(r,{color:"error",fontSize:"13px",children:a.wallet.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsxs(c,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Amount to withdraw *"}),e.jsxs(o,{sx:{mb:".5rem"},children:["Balance: ",l("wallet")==="MAIN"?u?e.jsx(Skeleton,{}):s==null?void 0:s.BUSDBalance:l("wallet")==="AFFLIATE"?u?e.jsx(Skeleton,{}):s==null?void 0:s.AFFLIATEBalance:0]})]}),e.jsx(f,{...p("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),a.amount&&e.jsx(r,{color:"error",children:a.amount.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Transaction password *"}),e.jsx(f,{...p("password",{require:!0}),size:"small",fullWidth:!0,placeholder:"Transaction password",variant:"outlined"}),a.amount&&e.jsx(r,{color:"error",children:a.amount.message})]})]}),e.jsx(P,{variant:"contained",size:"small",type:"submit",disabled:A,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{O as default};
