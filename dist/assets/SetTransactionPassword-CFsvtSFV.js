import{v,w as l,l as z,n as F,Z as C,j as s,S as i,C as W,T as r,G as o,p,a as q,q as D,t as u}from"./index-CAsDUFD4.js";import{C as h}from"./Container-rmQXfrmj.js";import{D as E}from"./Divider-Hp-cH-od.js";import{T as x}from"./TextField-CGhlsnlk.js";import"./dividerClasses-BoglbFex.js";import"./Select-m9qhI8KU.js";import"./Menu-BMF2bUc0.js";import"./List-Ryxu567-.js";import"./FormControl-DYUxdw51.js";const G=v({password:l().min(8,"Password must be at least 8 characters").regex(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/,"Password must contain at least one digit, one lowercase letter, one uppercase letter, and one special character"),cnfPassword:l().min(8,"Password must be at least 8 characters")}).refine(a=>a.password===a.cnfPassword,{message:"Passwords do not match",path:["cnfPassword"]});function I(){const a=z(),n={password:"",cnfPassword:""},{register:d,handleSubmit:w,setError:f,reset:j,formState:{errors:t}}=F({resolver:D(G),defaultValues:n}),[b,{isLoading:g}]=C(),P=async S=>{var c,m;try{const e=await b(S).unwrap();e!=null&&e.status&&(j(n),a(u({open:!0,message:e==null?void 0:e.message,severity:"success"})))}catch(e){(c=e==null?void 0:e.data)!=null&&c.data?Object.entries(e.data.data).forEach(([y,T])=>{f(y,{type:"server",message:T})}):a(u({open:!0,message:((m=e==null?void 0:e.data)==null?void 0:m.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return s.jsx(i,{children:s.jsx(h,{children:s.jsxs(W,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[s.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),s.jsx(E,{sx:{my:"1.2rem"}}),s.jsxs(i,{gap:"2rem",alignItems:"flex-start",component:"form",onSubmit:w(P),children:[s.jsxs(o,{container:!0,size:12,spacing:2,children:[s.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[s.jsx(p,{sx:{mb:".5rem"},children:"Password"}),s.jsx(x,{...d("password",{required:!0}),size:"small",fullWidth:!0,placeholder:"********",variant:"outlined"}),t.password&&s.jsx(r,{color:"error",children:t.password.message})]}),s.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[s.jsx(p,{sx:{mb:".5rem"},children:"Confirm Password"}),s.jsx(x,{...d("cnfPassword",{required:!0}),size:"small",fullWidth:!0,placeholder:"Confirm Password",variant:"outlined"}),t.cnfPassword&&s.jsx(r,{color:"error",children:t.cnfPassword.message})]}),s.jsx(o,{children:s.jsx(r,{color:"#d32f2f",children:"Note: Password must be at least 8 characters and must contain at least one digit, one lowercase letter, one uppercase letter, and one special character*"})})]}),s.jsx(q,{type:"submit",disabled:g,size:"small",variant:"contained",sx:{textTransform:"capitalize",objectFit:"contain",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})})})}function V(){return s.jsxs(i,{mt:"100px",children:[s.jsx(h,{children:s.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Set Transaction Password"})}),s.jsx(I,{})]})}export{V as default};
