import{k as M,j as e,T as m,r as n,N as L,B as c,S as u,p as z,a as k}from"./index-B-uwLYYL.js";import{c as F,u as v,M as I}from"./index.esm-DYWkHJmC.js";import{F as P,u as p,w as A}from"./xlsx-B1Jme0ca.js";import{S as Y}from"./Skeleton-BmGxnbsN.js";import{S as R}from"./Selector-DXPT3jTp.js";import{d as h}from"./dayjs.min-CJg0OAOT.js";import{C as B}from"./Container-CZ2dOfaf.js";import"./ExpandMore-So5U8gIY.js";import"./Search-C8WFMlEs.js";import"./Checkbox-Dbh0BwpH.js";import"./TableContainer-uz8LgwpW.js";import"./Menu-Dwi6IjF3.js";import"./List-DjS9Juue.js";import"./DatePicker-yTipKq8R.js";import"./TextField-DTohaBMm.js";import"./Select-eJbSdZdW.js";import"./FormControl-ce_fWMrF.js";import"./ListItem-Coplf0ud.js";import"./MenuItem-CekCyeNi.js";import"./listItemTextClasses-CUpVp4nt.js";import"./dividerClasses-D-rPc2Eo.js";import"./KeyboardArrowRight-BF6yhvgi.js";import"./ListItemIcon-bs6iMSCj.js";import"./TableRow-C_Eu6VuZ.js";import"./Divider-CVj_tKgi.js";const s=F(),_=[s.display({header:"Login ID",size:40,Cell:()=>{var t;const{data:a,isLoading:r}=M();return e.jsx(m,{children:r?e.jsx(Y,{width:100,height:30}):((t=a==null?void 0:a.data)==null?void 0:t.loginId)||"Empty"})}}),s.accessor("balanceType",{header:"Balance Type",size:120}),s.accessor("amount",{header:"Amount",size:150}),s.accessor("status",{header:"Status",size:150}),s.accessor("description",{header:"Description",size:250}),s.accessor("createdAt",{header:"Registration Date",size:200,Cell:({row:a})=>e.jsx(m,{children:new Date(a.original.createdAt).toLocaleString()})})],N=["PENDING","COMPLETED","REJECTED"],G=a=>{const r=p.json_to_sheet(a),t=p.book_new();p.book_append_sheet(t,r,"Sheet1"),A(t,"transactionList.xlsx")};function xe(){var d,x;const[a,r]=n.useState({pageIndex:0,pageSize:10}),[t,g]=n.useState({status:"",transactionType:"",startDate:null,endDate:null}),f=t.startDate?h(t.startDate).format("YYYY-MM-DD"):void 0,D=t.endDate?h(t.endDate).format("YYYY-MM-DD"):void 0,{data:o,isLoading:b,isError:S}=L({page:a.pageIndex+1,sizePerPage:a.pageSize,...t,startDate:f,endDate:D}),i=((d=o==null?void 0:o.data)==null?void 0:d.docs)||[],T=n.useMemo(()=>_,[]),w=n.useMemo(()=>i,[i]),j=v({columns:T,data:w,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((x=o==null?void 0:o.data)==null?void 0:x.totalDocs)||0,state:{pagination:a,isLoading:b,showAlertBanner:S},onPaginationChange:r,columnFilterDisplayMode:"popover",enableGlobalFilter:!1,paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:()=>e.jsx(c,{sx:{display:"flex",gap:2,padding:1,flexWrap:"wrap"},children:e.jsx(k,{variant:"contained",onClick:()=>G(i),startIcon:e.jsx(P,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none",bgcolor:"primary.main","&:hover":{boxShadow:"none"}},children:"Excel"})})}),y=n.useCallback((l,C)=>{g(E=>({...E,[l]:C}))},[]);return e.jsxs(B,{sx:{mt:"100px"},children:[e.jsx(m,{variant:"h5",fontWeight:700,fontSize:"1.8rem",mb:4,children:"Transaction List"}),e.jsx(c,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:e.jsx(c,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:e.jsxs(u,{children:[e.jsx(z,{sx:{mb:.5,fontSize:12},children:"Status"}),e.jsx(R,{items:N,value:t.status,onChange:l=>y("status",l.target.value),width:{xs:"100%",sm:200}})]})})}),e.jsx(u,{sx:{mt:4,borderRadius:2,overflow:"hidden"},children:e.jsx(I,{table:j})})]})}export{xe as default};
