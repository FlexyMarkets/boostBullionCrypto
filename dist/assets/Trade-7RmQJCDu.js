import{h as S,i as T,k as v,l as w,j as e,C as z,T as r,n as D,S as c,G as l,o as d,B as k,p as C,q as u,t as F,v as A}from"./index-7D1jf1M_.js";import{D as B}from"./Divider-tXRc_fJE.js";import{T as G}from"./TextField-CAdIxZRC.js";import"./dividerClasses-D82xR3Cs.js";import"./Select-Dg6xSVFU.js";import"./Menu-C4jIC6eM.js";import"./List-Cx4iqPhx.js";import"./FormControl-B0STjl36.js";const P=F({amount:A().min(1,"Please type your deposit amount")});function Q(){const{data:s,refetch:x}=S(),a=s==null?void 0:s.data,i=T(),o={amount:""},{register:p,handleSubmit:h,reset:b,formState:{errors:n}}=v({resolver:C(P),defaultValues:o}),[f,{isLoading:g}]=w(),j=async y=>{var m;try{const t=await f(y).unwrap();t!=null&&t.status&&(b(o),x(),i(u({open:!0,message:t==null?void 0:t.message,severity:"success"})))}catch(t){t!=null&&t.data&&i(u({open:!0,message:((m=t==null?void 0:t.data)==null?void 0:m.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(z,{sx:{mt:"100px"},children:[e.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Trade"}),e.jsxs(D,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(B,{sx:{my:"1.2rem"}}),e.jsxs(c,{gap:"2rem",component:"form",onSubmit:h(j),children:[e.jsx(l,{container:!0,size:12,spacing:3,children:e.jsxs(l,{item:!0,size:{xs:12,sm:6},children:[e.jsxs(c,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(d,{sx:{mb:".5rem"},children:"Amount to trade"}),e.jsxs(d,{sx:{mb:".5rem"},children:["Trade balance : ",(a==null?void 0:a.TRADEBalance)||0]})]}),e.jsx(G,{...p("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount to trade in",variant:"outlined"}),n.amount&&e.jsx(r,{color:"error",children:n.amount.message})]})}),e.jsx(k,{variant:"contained",size:"small",type:"submit",disabled:g,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})}export{Q as default};
