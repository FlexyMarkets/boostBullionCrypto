import{j as r,C as k,aj as u,r as h,a as L,S as f,T as p,ak as S,B as d,al as w,ac as N,y as D,l as I,am as A,an as v}from"./index-fGIWhje2.js";import{a as j}from"./List-BjYhP1bF.js";import{L as E}from"./ListItem-CgBmTxNz.js";import{L as M,E as B}from"./ExpandLess-DGsZsEPo.js";import{E as z,C as O}from"./ExpandMore-3v3bg3yy.js";import{D as W}from"./Divider-DgQhpGBH.js";import{C as G}from"./Container-KYUYn202.js";import"./listItemTextClasses-Dyu8puAO.js";import"./dividerClasses-5C2iia2a.js";function b({node:e,onClick:s}){var l;const[n,o]=h.useState(!1),t=()=>{s(e.title)},c=i=>{i.stopPropagation(),e.hasChildren&&o(a=>!a)};return r.jsxs(r.Fragment,{children:[r.jsxs(E,{button:!0,onClick:t,sx:{pl:2},children:[r.jsx(M,{primary:e.title,sx:{"& .MuiListItemText-primary":{fontSize:"15px"},cursor:"pointer"}}),e.hasChildren&&r.jsx(L,{onClick:c,size:"small",variant:"contained",type:"submit",sx:{textTransform:"capitalize",minWidth:"1.5rem",p:"4px",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white",ml:"1rem","&:hover":{boxShadow:"none"}},children:n?r.jsx(B,{}):r.jsx(z,{})})]}),e.hasChildren&&r.jsx(O,{in:n,timeout:"auto",unmountOnExit:!0,children:r.jsx(j,{component:"div",disablePadding:!0,children:(l=e.children)==null?void 0:l.filter(Boolean).map((i,a)=>r.jsx(b,{node:i,onClick:s},a))})})]})}function P({listData:e=[],onClick:s,loadingListData:n}){return r.jsx(k,{sx:{p:"1rem",display:"flex",flexDirection:"column",gap:".5rem",borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:n?r.jsx(u,{}):r.jsx(j,{children:e.map((o,t)=>r.jsx(b,{node:o,onClick:s},t))})})}function Q({data:e,loading:s,onClose:n}){var t;const o={Name:(e==null?void 0:e.name)||"N/A","Referral code":(e==null?void 0:e.referralCode)||"N/A",Email:(e==null?void 0:e.email)||"N/A",Sponser:(e==null?void 0:e.sponser)||"N/A","Total team turnover balance":(e==null?void 0:e.totalTeamTurnoverBalance)||"N/A","Total team":(e==null?void 0:e.totalTeam)||"N/A","Total reward balance":(e==null?void 0:e.totalRewardBalance)||"N/A","Total staked balance":(e==null?void 0:e.totalStakedBalance)||"N/A","Login id":(e==null?void 0:e.loginId)||"N/A","Direct referral team":(e==null?void 0:e.directReferralTeam)||"N/A"};return r.jsxs(f,{sx:{display:"flex",flexDirection:"column",gap:".5rem",borderRadius:"2rem"},children:[r.jsxs(f,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(p,{variant:"h5",fontWeight:"bold",children:"Referral User data"}),r.jsx(S,{sx:{cursor:"pointer"},onClick:n})]}),r.jsx(W,{sx:{my:"5px"}}),s?r.jsx(u,{}):(t=Object.entries(o))==null?void 0:t.map(([c,l],i)=>r.jsxs(d,{sx:{display:"flex",gap:"1rem",justifyContent:"space-between"},children:[r.jsxs(p,{children:[c," :"]}),r.jsx(p,{children:l})]},i))]})}function g(e){const s=[];for(const n in e){const o=e[n],t={title:n,hasChildren:o&&typeof o=="object",children:o&&typeof o=="object"?g(o):[]};s.push(t)}return s}function F({open:e,onClose:s,Content:n,modalWidth:o,contentData:t,loading:c}){const l={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:o||600,bgcolor:"background.paper",borderRadius:".5rem",boxShadow:24,p:3};return r.jsx(w,{keepMounted:!0,open:e,onClose:s,"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:r.jsx(d,{sx:l,children:r.jsx(n,{data:t,loading:c,onClose:s})})})}function _(){const{selectedReferralCode:e}=N(m=>m.wallet),[s,n]=h.useState(!1),{data:o,isLoading:t}=D({referralCode:e},{skip:!e}),c=!t&&(o==null?void 0:o.data),l=I(),{data:i,isLoading:a}=A(),C=i!=null&&i.data?g(i==null?void 0:i.data):[];function y(m){const x=m==null?void 0:m.match(/-(\w+)-/),T=x?x[1]:null;l(v(T)),n(!0)}const R=()=>n(!1);return r.jsxs(G,{sx:{mt:"100px"},children:[r.jsx(p,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Referral Tree"}),r.jsx(P,{listData:C,loadingListData:a,onClick:y}),r.jsx(F,{modalWidth:{xs:"90%",sm:600},open:s,onClose:R,Content:Q,contentData:c,loading:t})]})}export{_ as default};
