import{k as S,l as w,n as T,o as v,j as e,S as r,T as i,C as z,G as l,p as d,a as D,q as k,t as u,v as F,w as A}from"./index-BPKDHole.js";import{D as C}from"./Divider-B03dux0C.js";import{T as G}from"./TextField-B77SMJ87.js";import"./dividerClasses-BwGHlKnn.js";import"./Select-5_MAovsi.js";import"./Menu-C5l8RJF2.js";import"./List-DH4347GI.js";import"./FormControl-R2PLJ0Ur.js";const P=F({amount:A().min(1,"Please type your deposit amount")});function N(){const{data:s,refetch:x}=S(),a=s==null?void 0:s.data,o=w(),n={amount:""},{register:p,handleSubmit:h,reset:b,formState:{errors:m}}=T({resolver:k(P),defaultValues:n}),[f,{isLoading:g}]=v(),j=async y=>{var c;try{const t=await f(y).unwrap();t!=null&&t.status&&(b(n),x(),o(u({open:!0,message:t==null?void 0:t.message,severity:"success"})))}catch(t){t!=null&&t.data&&o(u({open:!0,message:((c=t==null?void 0:t.data)==null?void 0:c.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(r,{sx:{mt:"100px"},children:[e.jsx(i,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Trade"}),e.jsxs(z,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(i,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(C,{sx:{my:"1.2rem"}}),e.jsxs(r,{gap:"2rem",component:"form",onSubmit:h(j),children:[e.jsx(l,{container:!0,size:12,spacing:3,children:e.jsxs(l,{item:!0,size:{xs:12,sm:6},children:[e.jsxs(r,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(d,{sx:{mb:".5rem"},children:"Amount to trade"}),e.jsxs(d,{sx:{mb:".5rem"},children:["Trade balance : ",(a==null?void 0:a.TRADEBalance)||0]})]}),e.jsx(G,{...p("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount to trade in",variant:"outlined"}),m.amount&&e.jsx(i,{color:"error",children:m.amount.message})]})}),e.jsx(D,{variant:"contained",size:"small",type:"submit",disabled:g,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})}export{N as default};
