import{v as A,w as h,l as D,n as R,y as I,z as q,j as e,S as o,T as a,C as G,G as n,p as m,a as P,q as W,t as j}from"./index-W3F8g-gH.js";import{C as k}from"./Container-C2chWd_a.js";import{D as E}from"./Divider-BWvOf7AV.js";import{T as b}from"./TextField-D75kfTsg.js";import"./dividerClasses-DS1ge3n6.js";import"./Select-g_WXqCT7.js";import"./Menu--OA5AKCf.js";import"./List-DDMEpOZM.js";import"./FormControl-D84P2tts.js";const L=A({amount:h().trim().min(1,"Please type your transfer amount"),referralCode:h().trim().min(1,"Please type your referral code")});function U(){var x,p;const d=D(),l={referralCode:"",amount:""},{register:u,handleSubmit:g,watch:y,reset:S,formState:{errors:s}}=R({resolver:W(L),defaultValues:l}),c=y("referralCode"),{data:t,isError:C,error:i}=I({referralCode:c},{skip:!c}),v=C?(x=i==null?void 0:i.data)==null?void 0:x.message:(p=t==null?void 0:t.data)==null?void 0:p.name,[w,{isLoading:z}]=q(),F=async T=>{var f;try{const r=await w(T).unwrap();r!=null&&r.status&&(S(l),d(j({open:!0,message:r==null?void 0:r.message,severity:"success"})))}catch(r){r!=null&&r.data&&d(j({open:!0,message:((f=r==null?void 0:r.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(o,{mt:"100px",children:e.jsxs(k,{children:[e.jsx(a,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Add fund"}),e.jsxs(G,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(a,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(E,{sx:{my:"1.2rem"}}),e.jsxs(o,{gap:"2rem",component:"form",onSubmit:g(F),children:[e.jsxs(n,{container:!0,size:12,spacing:2,children:[e.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[e.jsx(m,{sx:{mb:".5rem"},children:"Referral ID *"}),e.jsx(b,{...u("referralCode",{require:!0}),size:"small",fullWidth:!0,placeholder:"Referral ID *",variant:"outlined"}),s.referralCode&&e.jsx(a,{color:"error",fontSize:"13px",children:s.referralCode.message}),e.jsx(m,{sx:{mb:".5rem"},children:v})]}),e.jsxs(n,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{flexDirection:"row",justifyContent:"space-between"},children:e.jsx(m,{sx:{mb:".5rem"},children:"Amount *"})}),e.jsx(b,{...u("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),s.amount&&e.jsx(a,{color:"error",fontSize:"13px",children:s.amount.message})]})]}),e.jsx(P,{variant:"contained",size:"small",type:"submit",disabled:z,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{L as addFundSchema,U as default};
